{"data":{"children":[{"children":[{"content":"text/html; charset=UTF-8","http-equiv":"Content-Type","tag":"meta"},{"content":"width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=0, minimal-ui","name":"viewport","tag":"meta"},{"src":"cashier-phone-login.js","tag":"script"},{"children":[{"tag":"text","text":"var is_flybird = navigator.userAgent.toLowerCase().indexOf(\"flybird\")>=0;//### 是否为飞鸟引擎\r\nvar is_android = navigator.userAgent.toLowerCase().indexOf(\"android\")>=0;//### 是否为android平台\r\nvar path = is_android ? \"com.alipay.android.app/\" : \"AlipaySDK.bundle/\";\r\n\r\nvar nav_back_png = path + \"back.png\";\r\nvar arrow_right_png = path + \"arrow_right.png\";\r\nvar alipay_logo_png = path + \"paylogo_login.png\";\r\n\r\n//### 切换国家\r\nfunction onChangeCountry() {\r\n\tant.submit({\"action\":{\"name\":\" /cashier/selectCountryAndArea\"}});\r\n}\r\n\r\n//### 输入手机号响应\r\nfunction onPhoneInput() {\r\n\tvar mobile = document.getElementById('mobile');\t\r\n\tvar submit = document.getElementById('submit');\t\r\n\tif (mobile.value.length > 0) {\r\n\t\tsubmit.disabled = false;\r\n\t}\r\n\telse {\r\n\t\tsubmit.disabled = true;\t\t\r\n\t}\r\n}\r\n\r\n//### 退出\r\nfunction onBack() {\r\n    if (flybird.rpcData.backAct == \"back\"){\r\n        ant.submit({\"action\":{\"name\":\"loc:back\"}});\r\n        return;\r\n    }\r\n\tant.confirm({\r\n     \t\ttitle: '',\r\n     \t\tmessage: '确定要退出吗？',\r\n     \t\tokButton: '确定',\r\n     \t\tcancelButton: '取消'\r\n\t\t\t}, function (result) {\r\n     \t\t\r\n     \t\tif (result.ok) {\r\n     \t\t\tant.submit({\"action\":{\"name\":\"loc:exit\"}});\r\n     \t\t}\r\n\t});\r\n}\r\n\r\n//提交\r\nfunction submit() {\r\n\tdocument.getElementById('mobile').blur();\r\n\t\r\n\tvar obj = {\"action\":{\"name\":\"/cashier/phonelogin\"}};\r\n\t\r\n\tvar mobile_value = document.getElementById('mobile').value;\r\n\t\r\n    submit_obj = {};\r\n    submit_obj[\"logon_phone\"] = mobile_value;\r\n    submit_obj[\"ldc_logonId\"] = mobile_value;\r\n    obj[\"param\"] = submit_obj;\r\n\tant.submit(obj);\r\n}\r\n\r\n//其他登陆方式\r\nfunction authOther() {\r\n\tant.submit({\"action\":{\"name\":\"/other/login\"}});\r\n}\r\n\r\n//### Android系统自动读取手机号\r\nfunction readSms(){\r\n    var obj = {\"action\":{\"name\":\"loc:readPhoneNum\"}};\r\n    ant.asyncSubmit(obj,function(data){\r\n        document.getElementById('mobile').innerText = data[\"phonenum\"];\r\n    });\r\n}\r\n\r\nfunction init() {\r\n    print('test');\r\n\n\tif(is_android){\r\n\n\t\tif(flybird.rpcData.backAct == \"back\"){\r\n\n\t\t\tdocument.getElementById(\"nav_back_img_android\").src = path + \"back.xml\";\r\n\n\t\t} else {\r\n\n\t\t\tdocument.getElementById(\"nav_back_img_android\").src = path + \"back_close.xml\";\r\n\n\t\t}\r\n\n\t\t\r\n\n\t\tdocument.getElementById(\"ios_nav\").style.display = \"none\";\r\n\n\t} else {\r\n\n        if (is_flybird){\r\n\n        } else {\r\n\n            document.getElementById(\"android_nav\").style.display = \"none\";\r\n\n        }\r\n\n    }\r\n\n    //### 加载图片资源\r\n\n    document.getElementById('arrow_right_png').src = arrow_right_png;\r\n\n\tdocument.getElementById('alipayLogo').src = alipay_logo_png;\r\n\r\n\n\tdocument.getElementById('areaCode').innerText = flybird.rpcData.country + flybird.rpcData.area_code;\r\n\t\r\n\t//### Android自动读取手机号\r\n    if (is_android){\r\n        readSms();\r\n    }\r\n}"}],"tag":"script","type":"text/javascript"},{"href":"AlipaySDK.bundle/common.css","rel":"stylesheet","tag":"link","type":"text/css"},{"href":"com.alipay.android.app/common.css","rel":"stylesheet","tag":"link","type":"text/css"}],"tag":"head"},{"children":[{"children":[{"children":[{"children":[{"children":[{"tag":"text","text":"取消"}],"css":"common_nav_left_text","tag":"p"}],"css":"common_nav_left_box","id":"nav_back","onclick":"onBack()","tag":"div"},{"children":[{"children":[{"tag":"text","text":"登录支付宝账号"}],"css":"common_nav_center_text","tag":"label"}],"css":"common_nav_center_box","tag":"div"},{"css":"common_nav_right_box","onclick":"onEdit()","tag":"div"}],"css":"common_nav_box","id":"ios_nav","tag":"div"},{"children":[{"children":[{"children":[{"css":"common_nav_left_img_android","id":"nav_back_img_android","tag":"img"}],"css":"common_nav_back_box_android","onclick":"onBack()","tag":"div"},{"css":"common_nav_line_android","tag":"div"},{"children":[{"tag":"text","text":"登录支付宝账号"}],"css":"common_nav_center_text common_p_reset","tag":"label"}],"css":"common_nav_title_android","id":"nav_back","tag":"div"},{"css":"common_nav_right_box","tag":"div"}],"css":"common_nav_box_android","id":"android_nav","tag":"div"}],"tag":"nav"},{"children":[{"children":[{"css":"","id":"alipayLogo","style":"padding-bottom:30px; padding-top:15px;","tag":"img"}],"style":"text-align:center","tag":"div"},{"css":"common_1px_line","tag":"div"},{"children":[{"children":[{"children":[{"tag":"text","text":"国家"}],"css":"common_cell_left_box_text","id":"country","tag":"label"}],"css":"common_cell_left_box","tag":"div"},{"children":[{"css":"common_cell_left_box_text","id":"areaCode","tag":"label"}],"css":"common_cell_center_box","tag":"div"},{"id":"arrow_right_png","tag":"img"}],"css":"common_cell common_padding_left_right","onclick":"onChangeCountry()","tag":"div"},{"css":"common_1px_line","tag":"div"},{"children":[{"children":[{"children":[{"tag":"text","text":"手机号"}],"css":"common_cell_left_box_text","tag":"label"}],"css":"common_cell_left_box","tag":"div"},{"children":[{"css":"common_cell_input","id":"mobile","oninput":"onPhoneInput()","placeholder":"填写手机号码","tag":"input","type":"num"}],"css":"common_cell_center_box","tag":"div"}],"css":"common_cell common_padding_left_right","tag":"div"},{"css":"common_1px_line","tag":"div"},{"css":"common_cell_footer_empty_box","tag":"div"},{"children":[{"children":[{"tag":"text","text":"下一步"}],"css":"common_button_main","disabled":"true","id":"submit","onclick":"submit()","tag":"button"}],"css":"common_padding_left_right","tag":"div"},{"css":"common_cell_footer_empty_box","tag":"div"},{"children":[{"children":[{"tag":"text","text":"其他登录方式"}],"css":"common_full_bottom_text common_theme_text_color","onclick":"authOther()","tag":"label"}],"css":"common_padding_left_right","style":"text-align:right","tag":"div"}],"css":"common_full_main","id":"main_body","tag":"div"}],"css":"common_full_body","id":"body","onkeydown":"onBack();","onload":"init()","tag":"body"}],"tag":"html"},"format":"JSON","name":"cashier-phone-login","publishVersion":"150604","tag":"QUICKPAY","time":"0049","tplId":"QUICKPAY@cashier-phone-login","tplVersion":"5.0.0"}